<html>
<body>
<LINK REL="stylesheet" type="text/css" HREF="../default.css">
<head><title>On Char</title></head>
<H1>On Char</H1>
<br>
<br>
The <b>ON CHAR</b> event is triggered when a character results from pressing one or more inside of a <a href="..\other\custom_windows.html">custom window</a>.
<br>
<br>
See the note about the <a href="on_keydown.html">On_KeyDown</a> event, pressing control + o should result in two keypress being reported from on keydown, and control + o generates the character with code point 15, on char will trigger for that character.

<H4>Synopsis</H4>
<pre class = "code">ON &lt;level&gt;:char:&lt;@&gt;:&lt;codepoint,...,codepointN&gt;:&lt;commands&gt;</pre>

<H4>Parameters</H4>
<b>&lt;level&gt;</b> - The corresponding <a href="..\other\access_levels.html">access levels</a> for the event to trigger.
<br><b>&lt;@&gt;</b> - The <a href="..\other\custom_windows.html">custom window</a> where this event should listen. Can be <b>@</b> for all windows.
<br><b>&lt;codepoint&gt;</b> - The specific characters' codepoints to listen for. Can specify multiple codepoints, such as:
<pre class ="code">ON *:char:@myWindow:38,42,55,78:echo -a $keyval</pre>
<br><b>&lt;commands&gt;</b> - The commands to be performed when the event listener's criteria is met.

<H4>Local Identifiers</H4>
<a href="..\identifiers\keyval.html">$keyval</a> - The unicode codepoint of the character resulting from keypresses
<br><a href="..\identifiers\keychar.html">$keychar</a> - The actual character resulting from keypresses
<br><a href="..\identifiers\keyrpt.html">$keyrpt</a> - If the key is being held down/repeating
<br> TODO - $keylparam returns the result of the lParam value in the keyboard event.

<H4>Example</H4>
Create an alias that launches a custom, <a href="..\other\picture_windows.html">picture window</a> which listens for resulting character from keypresses and displays the character and if it is repeating:
<pre class ="code">alias keyDownTest {
  window -p $+ $iif($window(@myWindow),ra) @myWindow 550 300 250 105
}
ON *:char:@myWindow:*: {
  clear @myWindow
  drawtext @myWindow 1 3 3 Codepoint value: $iif($keyval,$v1,NA)
  drawtext @myWindow 1 3 25 Character: $iif($keychar,$v1,NA)
  drawtext @myWindow 1 3 47 Repeating: $keyrpt
}</pre>

The following command can now be typed into any mIRC command prompt:
<pre class ="code">/keyDownTest</pre>

Below is an image reflecting what this example will look like:

[[File:Keyup event.png|This screenshot shows an example of the ON KEYDOWN event custom example.]]


<H4>Compatibility</H4>
Added: mIRC v7.62 (29 Jul 2020)

<H4>Notes</H4>
None

<H4>See also</H4>

<a href="on_keydown.html">On_KeyDown</a><br>
<a href="on_keyup.html">On_KeyUp</a><br>
<a href="..\identifiers\keyval.html">$keyval</a><br>
<a href="..\identifiers\keychar.html">$keychar</a><br>
<a href="..\identifiers\keyrpt.html">$keyrpt</a><br>
</body>
</html>