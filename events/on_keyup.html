<html>
<body>
<LINK REL="stylesheet" type="text/css" HREF="../default.css">
<H1>On Keyup</H1>
<br>
<br>
The <b>ON KEYUP</b> event is triggered when a key has been pressed, but subsequently released, inside of a custom {{mirc|custom windows|@window}}.

This event fills the following identifiers:
<br>
<a href="..\identifiers\keyval.html">$keyval</a> - The Windows keycode value of the key being released, see https://docs.microsoft.com/en-us/windows/win32/inputdev/virtual-key-codes for a list of keycodes

<br>
<a href="..\identifiers\keychar.html">$keychar</a> - The actual character released, this is not useful and you should not be relying on this, it won't work when you needed two keypresses to get the character
<br>
<a href="..\identifiers\keyrpt.html">$keyrpt</a> - it always returns ''$true''</div>

<H4>Synopsis</H4>
<pre class = "code">ON &lt;level&gt;:KEYUP:&lt;@&gt;:&lt;keycode,...,keycodeN&gt;:&lt;commands&gt;</pre>

<H4>Parameters</H4>
<br><b>&lt;level&gt;</b> - The corresponding <a href="..\other\access_levels.html">access levels</a> for the event to trigger.

<br><b>&lt;@&gt;</b> - The {{mirc|custom windows|custom window}} where this event should listen. Can be '''@''' for all windows.

<br><b>&lt;keycodes&gt;</b> - The specific key, or keys to listen for. Can specify multiple keys, such as:
<pre class ="code">ON *:KEYUP:@myWindow:38,42,55,78:echo -a $keyval</pre>

<H4>Example</H4>
Create an alias that launches a custom, {{mirc|picture windows|picture window}} which listens for key releases and displays the key value released, and the key character released:
<pre class ="code">alias keyUpTest {
  window -p $+ $iif($window(@myWindow),ra) @myWindow 550 300 250 83
}
ON *:KEYUP:@myWindow:*: {
  clear @myWindow
  drawtext @myWindow 1 3 3 Keycode value: $iif($keyval,$v1,NA)
  drawtext @myWindow 1 3 25 character: $iif($keychar,$v1,NA)
}</pre>

The following command can now be typed into any mIRC command prompt:
<pre>/keyUpTest</pre>

Below is an image reflecting what this example will look like:

[[File:On keyup event - mIRC (fixed).png|This screenshot depicts the On Keyup event in mIRC.]]

Note that this makes use of a {{mirc|picture windows|picture window}}, as well as the {{mirc|/drawtext|drawtext command}}. These types of {{mirc|picture windows|windows}} and their tools can be very powerful in creating some amazing graphical layouts, as well as mIRC games.

<H4>Compatability</H4>
{{mIRC compatibility|5.8}}

<H4>See also</H4>

{{mirc|custom windows}}
<a href="..\commands\drawtext.html">/drawtext</a><br>
<a href="on_keydown.html">on_keydown</a><br>
<a href="..\identifiers\keyval.html">$keyval</a><br>
<a href="..\identifiers\keychar.html">$keychar</a><br>
<a href="..\identifiers\keyrpt.html">$keyrpt</a><br>
</body>
</html>