<html>
<body>
<LINK REL="stylesheet" type="text/css" HREF="../default.css">
<H1>On Keyup</H1>
<br>
<br>
The <b>ON KEYUP</b> event is triggered when a key has been pressed, but subsequently released, inside of a custom {{mirc|custom windows|@window}}.

This event fills the following identifiers:
<div style="background-color: rgba(0,0,0,.03); display: block;"><span style="border-right: 1px dashed rgba(0,0,0,.15); display: inline-block; margin-left: 35px; margin-right: 10px; width: 70px;">'''{{mIRC|$keyval}}'''</span>The Windows keycode value of the key being released, see https://docs.microsoft.com/en-us/windows/win32/inputdev/virtual-key-codes for a list of keycodes</div>

<div style="background-color: rgba(0,0,0,.03); display: block;"><span style="border-right: 1px dashed rgba(0,0,0,.15); display: inline-block; margin-left: 35px; margin-right: 10px; width: 70px;">'''{{mIRC|$keychar}}'''</span>The actual character released, this is not useful and you should not be relying on this, it won't work when you needed two keypresses to get the character</div>

<div style="background-color: rgba(0,0,0,.03); display: block; margin-bottom: 10px;"><span style="border-right: 1px dashed rgba(0,0,0,.15); display: inline-block; margin-left: 35px; margin-right: 10px; width: 70px;">'''{{mIRC|$keyrpt}}'''</span>it always returns ''$true''</div>

<H4>Synopsis</H4>
<pre>ON &lt;level&gt;:KEYUP:<@>:<keycode,...,keycodeN>:&lt;commands&gt;</pre>

<H4>Parameters</H4>
<br><b>&lt;level&gt;</b> - The level for the event to trigger.

'''<@>'''</span>The {{mirc|custom windows|custom window}} where this event should listen. Can be '''@''' for all windows.

'''<keycodes>'''</span>The specific key, or keys to listen for. Can specify multiple keys, such as:
<pre class ="code">ON *:KEYUP:@myWindow:38,42,55,78:echo -a $keyval</pre>

<H4>Example</H4>
Create an alias that launches a custom, {{mirc|picture windows|picture window}} which listens for key releases and displays the key value released, and the key character released:
<pre class ="code">alias keyUpTest {
  window -p $+ $iif($window(@myWindow),ra) @myWindow 550 300 250 83
}
ON *:KEYUP:@myWindow:*: {
  clear @myWindow
  drawtext @myWindow 1 3 3 Keycode value: $iif($keyval,$v1,NA)
  drawtext @myWindow 1 3 25 character: $iif($keychar,$v1,NA)
}</pre>

The following command can now be typed into any mIRC command prompt:
<pre>/keyUpTest</pre>

Below is an image reflecting what this example will look like:

[[File:On keyup event - mIRC (fixed).png|This screenshot depicts the On Keyup event in mIRC.]]

Note that this makes use of a {{mirc|picture windows|picture window}}, as well as the {{mirc|/drawtext|drawtext command}}. These types of {{mirc|picture windows|windows}} and their tools can be very powerful in creating some amazing graphical layouts, as well as mIRC games.

<H4>Compatability</H4>
{{mIRC compatibility|5.8}}

== See Also ==
* {{mirc|custom windows}}
* {{mIRC|/drawtext}}
<a href="on_keydown.html">on_keydown</a><br>
* {{mIRC|$keyval}}
* {{mIRC|$keychar}}
* {{mIRC|$keyrpt}}</body>
</html>