<html>
<body>
<LINK REL="stylesheet" type="text/css" HREF="../default.css">
<H1>On Quit</H1>
<br>
<br>
The <b>ON QUIT</b> event is triggered when a user quits/disconnects from the IRC network while on the same channel as the local mIRC client.

<H4>Synopsis</H4>
<pre class = "code">ON &lt;level&gt;:QUIT:&lt;commands&gt;</pre>

<br><b>&lt;level&gt;</b> - The corresponding <a href="..\other\access_levels.html">access levels</a> for the event to trigger.

<br><b>&lt;commands&gt;</b> - The commands to be performed when the event listener's criteria is met.

<H4>Example</H4>
When a user disconnects, stop mIRC's default message and, instead, echo to the active window a custom message:
<pre class ="code">on ^*:QUIT:{
  echo -a * $nick just disconnected from $network
  haltdef
}</pre>

<pre class ="code">
Because ON QUIT is not associated with # or $chan, to show a quit message in all channels you share with that nick, you can use $comchan. You can simulate mIRC's default Quit message in channels with:

on ^*:QUIT:{
  var %i $comchan($nick,0)
  while (%i) {
    echo -ctg quit $comchan($nick,%i) * $nick $+($chr(40),$address,$chr(41)) Quit $iif($1,$+($chr(40),$1-,$chr(41)))
    dec %i
  }
  haltdef
}
</pre>

<H4>Compatability</H4>
Added: mIRC v3.7 (12 Oct 1995)

<H4>See also</H4>
<a href="On_disconnect.html">On_disconnect</a><br>
<a href="On_Join.html">On_Join</a><br>
<a href="On_part.html">On_part</a><br>


</body>
</html>
