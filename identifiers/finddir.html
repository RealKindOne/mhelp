<html>
<body>
<LINK REL="stylesheet" type="text/css" HREF="../default.css">
<head><title>$finddir</title></head>
<H1>$finddir</H1>
<br>
<br>
The <b>$finddir</b> identifier searches the specified directory (and optionally its subdirectories) for the Nth directory matching the <a href="..\other\wildcard.html">wildcard</a> specification and returns the path if it is found.

<br><b>Note:</b> You can stop the $finddir search using /halt inside the command parameter, /halt won't halt the script execution in this case.

<br>
<br>
<center><img src="..\images\warning.png"></a>
<b>WARNING:</b> This identifier can be dangerous.
<img src="..\images\warning.png"></a></center>
<center>
More information <a href="..\other\injection.html">here</a>.
</center>
<br>
<br>

<H4>Synopsis</H4>
<pre class ="code">
$finddir(dir,wildcard,N,[depth,[@window | command]])[.property]
</pre>

<H4>Parameters</H4>
<b>DIR</b> - Name of the starting folder name.
<br><b>wildcard</b> - Directory being searched for. A list of folder names or <a href="..\other\wildcard.html">wildcard</a> separated by a ';'.
<br><b>N</b> - Nth sequential directory being searched for. 0 is count of ALL directories.
<br><b>depth</b> - Optional folder depth, counting DIR as the first level. 0 or 1 is DIR level only. If depth not used, there's no depth limit.
<br><b>command</b> - Optional 5th parameter. Can use $finddirn as the sequential number for that directory, or $1- for directory. If the first token in the command is an identifier, $1- will hold the previous values it had and you can preevaluate $1- with $!1- to access the directory.
<br><b>@window</b> - Optional 5th parameter. Must be window with side listbox created with -l switch. Each $1- from matching directories is appended as a new line to the side listbox. Is equivalent to: /aline -la @window $1-

Note: DIR can be absolute \path or c:\path or relative to $mircdir. Does not need ending slash. Accepts forward/backward slashes interchangeably but always output backslash.

<H4>Properties</H4>
<b>.shortfn</b> - Causes N > 0 or $1- within 5th parameter to return short filenames and/or folder names when a case-insensitive evaluation of the filename is not a valid DOS filename. (Invalid characters, more than 1 period, filename prefix longer than 8, file extension longer than 4, etc)

Note: Returned string can contain multiple consecutive spaces if the file/folder names contain them, causing $file() and other mIRC identifiers to fail. This problem can be avoided by using .shortfn which never contains any spaces.

<H4>Example</H4>

<H4>Compatibility</H4>
Added: mIRC v4.7 (09 Dec 1996)

<H4>Notes</H4>
None

<H4>See also</H4>
<a href="finddir.html">$finddir</a><br>
<a href="findfilen.html">$findfilen</a><br>
<a href="shortfn.html">$shortfn</a><br>
<a href="sysdir.html">$sysdir</a><br>
<a href="mircdir.html">$mircdir</a><br>
<a href="getdir.html">$getdir</a><br>
</body>
</html>
